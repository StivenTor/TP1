<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rapport TP1 - Joan Stiven Torres Orozco</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&family=Fira+Code:wght@400;500&display=swap');
        
        * { box-sizing: border-box; }
        
        body {
            font-family: 'Source Sans Pro', -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e8e8e8;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px 20px;
        }
        
        header {
            text-align: center;
            padding: 40px 0;
            border-bottom: 2px solid rgba(255,255,255,0.1);
            margin-bottom: 40px;
        }
        
        .student-name-field {
            background: rgba(255,255,255,0.05);
            border: 2px dashed rgba(255,255,255,0.3);
            border-radius: 8px;
            padding: 15px 25px;
            margin: 20px auto;
            max-width: 500px;
            text-align: left;
        }
        
        .student-name-field label {
            display: block;
            color: #a0a0a0;
            font-size: 0.9em;
            margin-bottom: 8px;
        }
        
        .student-name-field input {
            width: 100%;
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 4px;
            padding: 10px 15px;
            color: #fff;
            font-size: 1em;
            font-family: 'Source Sans Pro', sans-serif;
        }
        
        .student-name-field input:focus {
            outline: none;
            border-color: #778da9;
            box-shadow: 0 0 0 2px #778da940;
        }
        
        .student-name-field input::placeholder {
            color: #666;
            font-style: italic;
        }
        
        h1 {
            font-size: 2.5em;
            font-weight: 700;
            color: #fff;
            margin: 0 0 15px 0;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            font-size: 1.2em;
            color: #a0a0a0;
            margin: 0;
        }
        
        .date-badge {
            display: inline-block;
            background: rgba(255,255,255,0.1);
            padding: 8px 20px;
            border-radius: 20px;
            margin-top: 20px;
            font-size: 0.9em;
            color: #b0b0b0;
        }
        
        .image-section {
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 40px;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }
        
        .image-section h2 {
            color: #778da9;
            font-size: 1.6em;
            margin: 0 0 25px 0;
            padding-bottom: 15px;
            border-bottom: 2px solid #778da940;
        }
        
        h3 {
            color: #e0e1dd;
            font-size: 1.3em;
            margin: 30px 0 20px 0;
        }
        
        h3::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 24px;
            background: #778da9;
            margin-right: 12px;
            border-radius: 2px;
            vertical-align: middle;
        }
        
        .algorithm-box {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #778da9;
        }
        
        .algorithm-box h4 {
            color: #778da9;
            margin: 0 0 10px 0;
        }
        
        .algorithm-box p {
            margin: 5px 0;
            line-height: 1.6;
        }
        
        .metrics-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .metrics-table th {
            background: #778da930;
            color: #778da9;
            padding: 14px 16px;
            text-align: left;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85em;
            letter-spacing: 0.5px;
        }
        
        .metrics-table td {
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            font-family: 'Fira Code', monospace;
            font-size: 0.95em;
        }
        
        .metrics-table tr:last-child td {
            border-bottom: none;
        }
        
        .metrics-table tr:hover {
            background: rgba(255,255,255,0.03);
        }
        
        .figure-container {
            text-align: center;
            margin: 15px 0;
            padding: 15px;
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
        }
        
        .figure-container img {
            max-width: 60%;
            max-height: 400px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .figure-container img:hover {
            transform: scale(1.02);
            box-shadow: 0 6px 30px rgba(0,0,0,0.5);
        }
        
        .figure-caption {
            margin-top: 10px;
            font-style: italic;
            color: #a0a0a0;
            font-size: 0.9em;
        }
        
        /* Lightbox/Modal styles */
        .lightbox {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            animation: fadeIn 0.3s;
        }
        
        .lightbox.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .lightbox-content {
            max-width: 95vw;
            max-height: 95vh;
            margin: auto;
            animation: zoomIn 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
        }
        
        .lightbox-content img {
            max-width: 100%;
            max-height: 95vh;
            width: auto;
            height: auto;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 8px 40px rgba(0,0,0,0.8);
        }
        
        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 40px;
            color: #fff;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .lightbox-close:hover {
            color: #ffc107;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes zoomIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        /* Image grid styles */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .image-grid-item {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            background: rgba(0,0,0,0.3);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .image-grid-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.5);
        }
        
        .image-grid-item img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .image-grid-item .image-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            color: #fff;
            padding: 15px 10px 10px;
            font-size: 0.9em;
            text-align: center;
        }
        
        /* Comparison grid styles */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(500px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }
        
        .comparison-pair {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .comparison-pair-title {
            text-align: center;
            color: #fff;
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(255,255,255,0.2);
        }
        
        .comparison-images {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .comparison-image-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            background: rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .comparison-image-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.5);
        }
        
        .comparison-image-item img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .comparison-image-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            color: #fff;
            padding: 12px 8px 8px;
            font-size: 0.85em;
            text-align: center;
            font-weight: 500;
        }
        
        .metadata-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .metadata-card {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #778da9;
        }
        
        .metadata-card h4 {
            color: #778da9;
            margin: 0 0 12px 0;
            font-size: 0.95em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .metadata-card .value {
            font-family: 'Fira Code', monospace;
            font-size: 1.1em;
            color: #fff;
            word-break: break-all;
        }
        
        .formula-box {
            background: rgba(0,0,0,0.4);
            padding: 20px 25px;
            border-radius: 8px;
            font-family: 'Fira Code', monospace;
            font-size: 1.1em;
            text-align: center;
            margin: 20px 0;
            border: 1px solid rgba(255,255,255,0.1);
            color: #ffd54f;
        }
        
        .matrix-display {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Fira Code', monospace;
            font-size: 0.85em;
            overflow-x: auto;
            white-space: pre;
            color: #b0bec5;
        }
        
        .bayer-grid {
            display: grid;
            grid-template-columns: repeat(2, 40px);
            gap: 4px;
            margin-top: 10px;
        }
        
        .bayer-cell {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            color: #fff;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }
        
        .bayer-cell.R { background: linear-gradient(135deg, #f44336, #c62828); }
        .bayer-cell.G { background: linear-gradient(135deg, #4caf50, #2e7d32); }
        .bayer-cell.B { background: linear-gradient(135deg, #2196f3, #1565c0); }
        
        .wb-values {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 10px;
        }
        
        .wb-chip {
            padding: 8px 16px;
            border-radius: 20px;
            font-family: 'Fira Code', monospace;
            font-weight: 500;
        }
        
        .wb-chip.r { background: rgba(244, 67, 54, 0.3); color: #ef9a9a; }
        .wb-chip.g { background: rgba(76, 175, 80, 0.3); color: #a5d6a7; }
        .wb-chip.b { background: rgba(33, 150, 243, 0.3); color: #90caf9; }
        
        code {
            background: #778da920;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Fira Code', monospace;
            font-size: 0.9em;
        }
        
        footer {
            text-align: center;
            padding: 30px;
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox" onclick="closeLightbox(event)">
        <span class="lightbox-close">&times;</span>
        <div class="lightbox-content">
            <img id="lightbox-img" src="" alt="">
        </div>
    </div>
    
    <div class="container">
        <header>
            <h1>üì∏ Rapport TP1 - Joan Stiven Torres Orozco</h1>
            <p class="subtitle"></p>
            <div class="date-badge">G√©n√©r√© le 04 February 2026 √† 20:00</div>
        </header>
        
        
        <div class="image-section">
            <h2><span class="icon">üì∑</span> Section 1: Chargement et Compr√©hension des Donn√©es RAW</h2>
        <div class="image-section">
            <h2><span class="icon">üì∑</span> Image: bombas</h2>
            <h3>R√©gion 16√ó16 de la mosa√Øque - bombas</h3>

        <div class="figure-container">
            <img src="../images_perso_sec1/bombas_zoom16x16.png" alt="Zoom sur une r√©gion 16√ó16 montrant les valeurs normalis√©es et le motif de Bayer color√©." class="clickable-image" data-fullsize="../images_perso_sec1/bombas_zoom16x16.png" onclick="openLightbox(this)">
            <p class="figure-caption">Zoom sur une r√©gion 16√ó16 montrant les valeurs normalis√©es et le motif de Bayer color√©.</p>
        </div>
    
        </div>
    
        <div class="image-section">
            <h2><span class="icon">üì∑</span> Image: cactus</h2>
            <h3>R√©gion 16√ó16 de la mosa√Øque - cactus</h3>

        <div class="figure-container">
            <img src="../images_perso_sec1/cactus_zoom16x16.png" alt="Zoom sur une r√©gion 16√ó16 montrant les valeurs normalis√©es et le motif de Bayer color√©." class="clickable-image" data-fullsize="../images_perso_sec1/cactus_zoom16x16.png" onclick="openLightbox(this)">
            <p class="figure-caption">Zoom sur une r√©gion 16√ó16 montrant les valeurs normalis√©es et le motif de Bayer color√©.</p>
        </div>
    
        </div>
    <h3>Analyse et observations</h3>
<div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #4fc3f7;"><p style="color: #a0a0a0; font-style: italic;">
<b>Motif de Bayer et profondeur de bits</b><br /><br />
Les deux images utilisent le motif de Bayer RGGB, o√π chaque bloc 2√ó2 contient un pixel rouge, deux verts et un bleu. 
Ce choix est coh√©rent avec la majorit√© des capteurs modernes et permet une meilleure estimation de la luminance gr√¢ce √† la surrepr√©sentation du canal vert. <br /><br />
Les deux fichiers pr√©sentent une profondeur effective de 14 bits, avec un niveau blanc √† 15343, 
ce qui offre une plage dynamique √©lev√©e compar√©e aux images 8 bits finales. Cette richesse dynamique est essentielle pour pr√©server 
les d√©tails dans les hautes lumi√®res et les ombres lors des √©tapes ult√©rieures (d√©matri√ßage et mappage tonal).<br /><br />


<b>Orientation et g√©om√©trie de l‚Äôimage</b><br /><br />
Une diff√©rence notable entre les deux images concerne leur orientation :<br />
    - Image ‚Äúbombas‚Äù : rotation de 180¬∞ <br />
    - Image ‚Äúcactus‚Äù : rotation de 90¬∞ horaire <br />
Apr√®s correction de l‚Äôorientation, les dimensions finales diff√®rent : <br />
    - bombas : 8160 √ó 6144 <br />
    - cactus : 6144 √ó 8160 <br />
Cette diff√©rence souligne l‚Äôimportance de tenir compte des m√©tadonn√©es d‚Äôorientation d√®s le chargement,
afin d‚Äô√©viter des erreurs lors des comparaisons visuelles ou des traitements spatiaux (filtres, recadrages). <br /><br />

<b>Normalisation des donn√©es</b><br /><br />
Pour les deux images, le niveau noir est nul et la normalisation est effectu√©e en divisant par le niveau blanc maximal (15343). Cette √©tape permet de ramener les valeurs dans l‚Äôintervalle 
[0, 1], facilitant les calculs num√©riques tout en conservant les proportions physiques de la lumi√®re captur√©e.<br /><br />
Cette normalisation homog√®ne rend les deux images directement comparables dans le reste du pipeline. <br /><br />


Bien que les deux images proviennent du m√™me appareil et partagent des caract√©ristiques techniques identiques (motif de Bayer, profondeur de bits, matrices de couleur), 
leur contenu de sc√®ne est tr√®s diff√©rent. Cela en fait un bon jeu de test pour le pipeline :
bombas pr√©sente des structures contrast√©es et des surfaces relativement uniformes,
cactus contient des textures fines, des r√©p√©titions et des transitions de couleur plus complexes.
Ces diff√©rences seront particuli√®rement r√©v√©latrices lors des √©tapes de d√©matri√ßage, de balance des blancs et de mappage tonal, 
o√π les artefacts et les biais chromatiques peuvent appara√Ætre de mani√®re diff√©rente selon la sc√®ne.

</p></div>

        </div>
    
        <div class="image-section">
            <h2><span class="icon">üé®</span> Section 2: D√©matri√ßage (Demosaicking)</h2>
        <div class="image-section">
            <h2><span class="icon">üì∑</span> Image: bombas</h2>
            <h3>Comparaison des m√©thodes - bombas</h3>

        <div class="figure-container">
            <img src="../images_perso_sec2/bombas_comparison.png" alt="Comparaison des m√©thodes de d√©matri√ßage" class="clickable-image" data-fullsize="../images_perso_sec2/bombas_comparison.png" onclick="openLightbox(this)">
            <p class="figure-caption">Comparaison des m√©thodes de d√©matri√ßage</p>
        </div>
    <h3>Zoom sur les artefacts - bombas</h3>

        <div class="figure-container">
            <img src="../images_perso_sec2/bombas_zoom.png" alt="Recadrages montrant les artefacts de contour" class="clickable-image" data-fullsize="../images_perso_sec2/bombas_zoom.png" onclick="openLightbox(this)">
            <p class="figure-caption">Recadrages montrant les artefacts de contour</p>
        </div>
    
        </div>
    
        <div class="image-section">
            <h2><span class="icon">üì∑</span> Image: cactus</h2>
            <h3>Comparaison des m√©thodes - cactus</h3>

        <div class="figure-container">
            <img src="../images_perso_sec2/cactus_comparison.png" alt="Comparaison des m√©thodes de d√©matri√ßage" class="clickable-image" data-fullsize="../images_perso_sec2/cactus_comparison.png" onclick="openLightbox(this)">
            <p class="figure-caption">Comparaison des m√©thodes de d√©matri√ßage</p>
        </div>
    <h3>Zoom sur les artefacts - cactus</h3>

        <div class="figure-container">
            <img src="../images_perso_sec2/cactus_zoom.png" alt="Recadrages montrant les artefacts de contour" class="clickable-image" data-fullsize="../images_perso_sec2/cactus_zoom.png" onclick="openLightbox(this)">
            <p class="figure-caption">Recadrages montrant les artefacts de contour</p>
        </div>
    
        </div>
    <h3>Analyse et observations</h3>
<div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #778da9;"><p style="color: #a0a0a0; font-style: italic;">

<b>Analyse visuelle</b> <br/><br />
√Ä l‚Äôobservation directe des images compl√®tes, les diff√©rences entre l‚Äôinterpolation bilin√©aire et la m√©thode de Malvar‚ÄìHe‚ÄìCutler sont peu perceptibles √† l‚Äô≈ìil nu dans la majorit√© des r√©gions. 
Les deux m√©thodes produisent des images visuellement coh√©rentes, sans artefacts majeurs √©vidents.
Les diff√©rences deviennent toutefois l√©g√®rement plus visibles dans certaines r√©gions agrandies, 
notamment autour de contours fins et de structures √† fort contraste. Dans ces zones, la m√©thode de Malvar‚ÄìHe‚ÄìCutler tend √† produire des transitions de couleur plus r√©guli√®res, 
avec une r√©duction subtile des artefacts de type color fringing ou zippering, bien que ces effets restent discrets dans les images test√©es.
Cette faible diff√©rence perceptuelle s‚Äôexplique en partie par la bonne qualit√© des images sources et par la dominance du canal vert dans le motif Bayer, qui stabilise d√©j√† fortement l‚Äôinterpolation bilin√©aire. <br/><br />

<b>Analyse quantitative</b><br/><br />

Les m√©triques objectives confirment n√©anmoins l‚Äôam√©lioration apport√©e par la m√©thode de Malvar‚ÄìHe‚ÄìCutler. <br/><br />

Pour l‚Äôimage bombas : <br /><br />

    - PSNR (Malvar vs Bilin√©aire) : 54.43 dB <br />

    - SSIM : 0.9972 <br /><br />

Pour l‚Äôimage cactus : <br /><br />

    - PSNR (Malvar vs Bilin√©aire) : 59.59 dB <br />

    - SSIM : 0.9989 <br />

    Ces valeurs tr√®s √©lev√©es indiquent que les deux m√©thodes produisent des r√©sultats extr√™mement proches, mais que Malvar‚ÄìHe‚ÄìCutler 
    offre une reconstruction l√©g√®rement plus fid√®le et structurellement plus coh√©rente que l‚Äôinterpolation bilin√©aire. <br/><br />

    En r√©sum√©, bien que les diff√©rences visuelles entre les deux m√©thodes soient difficiles √† percevoir √† l‚Äô≈ìil nu sur les images test√©es, les m√©triques objectives 
    (PSNR, SSIM) montrent clairement l‚Äôavantage de la m√©thode de Malvar‚ÄìHe‚ÄìCutler. 
    Celle-ci offre une meilleure pr√©servation des structures tout en r√©duisant les artefacts de couleur, 
    avec en plus un co√ªt computationnel inf√©rieur dans cette impl√©mentation. <br/><br />
</p></div>
        </div>
    
        <div class="image-section">
            <h2><span class="icon">‚ö™</span> Section 3: Balance des Blancs (White Balance)</h2>
        <div class="image-section">
            <h2><span class="icon">üì∑</span> Image: bombas</h2>
            <h3>Comparaison des m√©thodes - bombas</h3>

        <div class="figure-container">
            <img src="../images_perso_sec3/bombas_comparison.png" alt="Comparaison des m√©thodes de balance des blancs" class="clickable-image" data-fullsize="../images_perso_sec3/bombas_comparison.png" onclick="openLightbox(this)">
            <p class="figure-caption">Comparaison des m√©thodes de balance des blancs</p>
        </div>
    <h3>Conversion XYZ - bombas</h3>

        <div class="figure-container">
            <img src="../images_perso_sec3/bombas_xyz_comparison.png" alt="Images converties en XYZ puis reconverties en sRGB" class="clickable-image" data-fullsize="../images_perso_sec3/bombas_xyz_comparison.png" onclick="openLightbox(this)">
            <p class="figure-caption">Images converties en XYZ puis reconverties en sRGB</p>
        </div>
    
        </div>
    
        <div class="image-section">
            <h2><span class="icon">üì∑</span> Image: cactus</h2>
            <h3>Comparaison des m√©thodes - cactus</h3>

        <div class="figure-container">
            <img src="../images_perso_sec3/cactus_comparison.png" alt="Comparaison des m√©thodes de balance des blancs" class="clickable-image" data-fullsize="../images_perso_sec3/cactus_comparison.png" onclick="openLightbox(this)">
            <p class="figure-caption">Comparaison des m√©thodes de balance des blancs</p>
        </div>
    <h3>Conversion XYZ - cactus</h3>

        <div class="figure-container">
            <img src="../images_perso_sec3/cactus_xyz_comparison.png" alt="Images converties en XYZ puis reconverties en sRGB" class="clickable-image" data-fullsize="../images_perso_sec3/cactus_xyz_comparison.png" onclick="openLightbox(this)">
            <p class="figure-caption">Images converties en XYZ puis reconverties en sRGB</p>
        </div>
    
        </div>
    <h3>Analyse et observations</h3>
<div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #e94560;"><p style="color: #a0a0a0; font-style: italic;">
    <b>Multiplicateurs de correction</b><br /><br />

    Les multiplicateurs calcul√©s pour les deux images √©tudi√©es (bombas et cactus) mettent en √©vidence des comportements tr√®s diff√©rents selon la m√©thode : <br /><br />

    <b>Image ‚Äúbombas‚Äù</b> <br />

    - Auto-Neutre : R ‚âà 0.50, G ‚âà 0.50, B ‚âà 0.74 <br />

    - Grey World : R ‚âà 1.45, G = 1.00, B ‚âà 3.12 <br />
    
    - Cam√©ra : R = 0.00, G = 1.00, B = 0.00 <br /><br />

    <b>Image ‚Äúcactus‚Äù</b> <br />

    Auto-Neutre : R ‚âà 0.77, G ‚âà 0.67, B ‚âà 1.99 <br />

    Grey World : R ‚âà 0.96, G = 1.00, B ‚âà 3.38 <br />

    Cam√©ra : R = 0.00, G = 1.00, B = 0.00 <br /><br/>

    Les multiplicateurs issus de la balance cam√©ra sont probl√©matiques dans ces deux cas : les canaux rouge et bleu √©tant nuls, 
    l‚Äôimage r√©sultante pr√©sente une dominante verte tr√®s prononc√©e, visuellement peu r√©aliste. Cela montre que les m√©tadonn√©es de balance des blancs 
    ne sont pas toujours exploitables telles quelles, en particulier sur certaines images issues de smartphones.

    La m√©thode Auto-Neutre s√©lectionne dans les deux images une r√©gion tr√®s lumineuse (un reflet intense sur une surface brillante). 
    Cette strat√©gie est conforme √† l‚Äôalgorithme propos√©, mais elle conduit √† des multiplicateurs relativement faibles pour le canal rouge et dominants pour le bleu, 
    ce qui produit une image globalement plus froide.

    √Ä l‚Äôinverse, la m√©thode Grey World applique des corrections plus fortes sur le canal bleu tout en conservant le vert comme r√©f√©rence.
    Malgr√© l‚Äôhypoth√®se simplificatrice du mod√®le, cette m√©thode fournit les r√©sultats visuellement les plus √©quilibr√©s sur les deux images test√©es. <br/><br/>

    <b>Impact visuel</b><br/>
    Visuellement, les diff√©rences entre les m√©thodes sont clairement perceptibles : <br /><br />
     - Grey World donne l‚Äôimage la plus naturelle selon l‚Äôobservation subjective, avec un rendu global coh√©rent, m√™me si une l√©g√®re dominante ‚Äúnuageuse‚Äù ou d√©satur√©e est perceptible.<br />
     - Auto-Neutre produit une image plus froide, avec des tons bleut√©s plus marqu√©s, cons√©quence directe du choix de r√©gions tr√®s lumineuses pour l‚Äôestimation. <br />
     - Balance cam√©ra engendre une dominante verte tr√®s vive, peu conforme √† la perception r√©elle de la sc√®ne. <br />

        
</p></div>
        </div>
    
        <div class="image-section">
            <h2><span class="icon">üé®</span> Section 4: Mappage Tonal et Encodage d'Affichage</h2>

        <div class="algorithm-box">
            <h4>A) Ajustement de luminosit√©</h4>
            <p>Division par le 99e percentile. </p>
        </div>
    
        <div class="algorithm-box">
            <h4>B) Mappage tonal</h4>
            <p><b>Lin√©aire:</b> Pas de compression.</p><p><b>Reinhard:</b> <code>L_out = L_in / (1 + L_in)</code>. </p>
        </div>
    
        <div class="algorithm-box">
            <h4>C) Conversion XYZ ‚Üí sRGB</h4>
            <p>Matrice standard D65 suivie de l'OETF sRGB. </p>
        </div>
    
        <div class="algorithm-box">
            <h4>D) OETF sRGB</h4>
            <div class="formula-box">sRGB = 1.055 √ó lin√©aire^(1/2.4) ‚àí 0.055</div><p></p>
        </div>
    
        <div class="algorithm-box">
            <h4>E) Analyse des artefacts JPEG</h4>
            <p>Sauvegarde en diff√©rentes qualit√©s et analyse des artefacts.</p>
        </div>
    <h3>Courbes de mappage tonal</h3>

        <div class="figure-container">
            <img src="../images_perso_sec4/tonemapping_curves.png" alt="Comparaison des courbes de r√©ponse" class="clickable-image" data-fullsize="../images_perso_sec4/tonemapping_curves.png" onclick="openLightbox(this)">
            <p class="figure-caption">Comparaison des courbes de r√©ponse</p>
        </div>
    
        <div class="image-section">
            <h2><span class="icon">üì∑</span> bombas</h2>
            <h3>Comparaison des op√©rateurs</h3>

        <div class="figure-container">
            <img src="../images_perso_sec4/bombas_tonemapping_comparison.png" alt="Comparaison: Lin√©aire, Reinhard" class="clickable-image" data-fullsize="../images_perso_sec4/bombas_tonemapping_comparison.png" onclick="openLightbox(this)">
            <p class="figure-caption">Comparaison: Lin√©aire, Reinhard</p>
        </div>
    <h3>Avant/Apr√®s OETF</h3>

        <div class="figure-container">
            <img src="../images_perso_sec4/bombas_oetf_comparison.png" alt="L'OETF encode les valeurs lin√©aires pour l'affichage" class="clickable-image" data-fullsize="../images_perso_sec4/bombas_oetf_comparison.png" onclick="openLightbox(this)">
            <p class="figure-caption">L'OETF encode les valeurs lin√©aires pour l'affichage</p>
        </div>
    <h3>Image finale</h3>

        <div class="figure-container">
            <img src="../images_perso_sec4/bombas_final.jpg" alt="Image JPEG finale (qualit√© 95)" class="clickable-image" data-fullsize="../images_perso_sec4/bombas_final.jpg" onclick="openLightbox(this)">
            <p class="figure-caption">Image JPEG finale (qualit√© 95)</p>
        </div>
    <h3>Plage dynamique</h3>

        <div class="figure-container">
            <img src="../images_perso_sec4/bombas_dynamic_range.png" alt="Analyse des hautes lumi√®res et ombres" class="clickable-image" data-fullsize="../images_perso_sec4/bombas_dynamic_range.png" onclick="openLightbox(this)">
            <p class="figure-caption">Analyse des hautes lumi√®res et ombres</p>
        </div>
    
        <table class="metrics-table">
            <thead><tr><th>M√©trique</th><th>Valeur</th></tr></thead>
            <tbody><tr><td>Plage dynamique</td><td>4.5 stops</td></tr>
<tr><td>Hautes lumi√®res √©cr√™t√©es</td><td>0.00%</td></tr>
<tr><td>Ombres √©cras√©es</td><td>0.04%</td></tr>
</tbody>
        </table>
    
        </div>
    
        <div class="image-section">
            <h2><span class="icon">üì∑</span> cactus</h2>
            <h3>Comparaison des op√©rateurs</h3>

        <div class="figure-container">
            <img src="../images_perso_sec4/cactus_tonemapping_comparison.png" alt="Comparaison: Lin√©aire, Reinhard" class="clickable-image" data-fullsize="../images_perso_sec4/cactus_tonemapping_comparison.png" onclick="openLightbox(this)">
            <p class="figure-caption">Comparaison: Lin√©aire, Reinhard</p>
        </div>
    <h3>Avant/Apr√®s OETF</h3>

        <div class="figure-container">
            <img src="../images_perso_sec4/cactus_oetf_comparison.png" alt="L'OETF encode les valeurs lin√©aires pour l'affichage" class="clickable-image" data-fullsize="../images_perso_sec4/cactus_oetf_comparison.png" onclick="openLightbox(this)">
            <p class="figure-caption">L'OETF encode les valeurs lin√©aires pour l'affichage</p>
        </div>
    <h3>Image finale</h3>

        <div class="figure-container">
            <img src="../images_perso_sec4/cactus_final.jpg" alt="Image JPEG finale (qualit√© 95)" class="clickable-image" data-fullsize="../images_perso_sec4/cactus_final.jpg" onclick="openLightbox(this)">
            <p class="figure-caption">Image JPEG finale (qualit√© 95)</p>
        </div>
    <h3>Plage dynamique</h3>

        <div class="figure-container">
            <img src="../images_perso_sec4/cactus_dynamic_range.png" alt="Analyse des hautes lumi√®res et ombres" class="clickable-image" data-fullsize="../images_perso_sec4/cactus_dynamic_range.png" onclick="openLightbox(this)">
            <p class="figure-caption">Analyse des hautes lumi√®res et ombres</p>
        </div>
    
        <table class="metrics-table">
            <thead><tr><th>M√©trique</th><th>Valeur</th></tr></thead>
            <tbody><tr><td>Plage dynamique</td><td>5.2 stops</td></tr>
<tr><td>Hautes lumi√®res √©cr√™t√©es</td><td>0.00%</td></tr>
<tr><td>Ombres √©cras√©es</td><td>0.24%</td></tr>
</tbody>
        </table>
    
        </div>
    <h3>Analyse et observations</h3>
<div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #778da9;"><p style="color: #a0a0a0; font-style: italic;">

    <b>Comparaison des op√©rateurs de mappage tonal</b><br /><br />

L‚Äôop√©rateur lin√©aire conserve fid√®lement les relations d‚Äôintensit√© de l‚Äôimage, mais il pr√©sente une limitation importante : les zones lumineuses peuvent facilement d√©passer la plage affichable, 
ce qui entra√Æne un rendu globalement sombre apr√®s normalisation. Cette limitation est particuli√®rement visible avant l‚Äôapplication de l‚ÄôOETF, o√π l‚Äôimage para√Æt plate et sous-expos√©e.

L‚Äôop√©rateur de Reinhard compresse les hautes luminances de mani√®re non lin√©aire. Visuellement, cela permet de mieux pr√©server les d√©tails dans les zones claires sans √©cr√™tage visible,
 tout en am√©liorant la lisibilit√© globale de la sc√®ne. Sur les images bombas et cactus, Reinhard offre un rendu plus √©quilibr√©, 
 notamment dans les zones √©clair√©es, tout en conservant des ombres exploitables. <br /><br />

<b>Impact de l‚ÄôOETF sRGB </b><br /><br />

Avant l‚Äôapplication de l‚ÄôOETF, l‚Äôimage sRGB lin√©aire appara√Æt tr√®s sombre et peu contrast√©e, ce qui est normal puisque les √©crans attendent un signal non lin√©aire. 
Apr√®s l‚Äôapplication de l‚ÄôOETF sRGB, le contraste est fortement am√©lior√© et l‚Äôimage devient visuellement correcte pour l‚Äôaffichage.


Cependant, un l√©ger biais verd√¢tre est perceptible, en particulier sur certaines sc√®nes, ce qui refl√®te les caract√©ristiques du capteur et de la balance des blancs appliqu√©e en amont. 
Cette observation souligne l‚Äôimportance de l‚Äôencha√Ænement correct des √©tapes du pipeline.<br /><br />

<b>Analyse de la plage dynamique </b><br /><br />

L‚Äôanalyse de la plage dynamique montre que la compression est relativement mod√©r√©e dans ces images :

Image ‚Äúbombas‚Äù

Plage dynamique : 4.5 stops

Hautes lumi√®res √©cr√™t√©es : 0.00 %

Ombres √©cras√©es : 0.04 %

Image ‚Äúcactus‚Äù

Plage dynamique : 5.2 stops

Hautes lumi√®res √©cr√™t√©es : 0.00 %

Ombres √©cras√©es : 0.24 %

Ces r√©sultats indiquent que le mappage tonal appliqu√© √©vite efficacement l‚Äô√©cr√™tage des hautes lumi√®res. En revanche, une l√©g√®re perte d‚Äôinformation dans les ombres est observable, surtout pour l‚Äôimage cactus, ce qui est coh√©rent avec une sc√®ne pr√©sentant davantage de contrastes.


</p></div>
        </div>
    
        <div class="image-section">
            <h2><span class="icon">üñºÔ∏è</span> Comparaison des Images Finales</h2>
            <h3>Comparaison: Vos r√©sultats vs R√©f√©rences sRGB</h3>
<p style="color: #a0a0a0; margin-bottom: 20px;">Comparez vos images finales avec les aper√ßus sRGB g√©n√©r√©s par rawpy. Cliquez sur une image pour l'agrandir.</p>
        
        <div class="comparison-grid">
            
            <div class="comparison-pair">
                <div class="comparison-pair-title">bombas</div>
                <div class="comparison-images">
                    <div class="comparison-image-item" onclick="openLightbox(this.querySelector('img'))">
                        <img src="../images_perso_sec4/bombas_final.jpg" alt="Image finale - bombas" data-fullsize="../images_perso_sec4/bombas_final.jpg">
                        <div class="comparison-image-label">Votre r√©sultat</div>
                    </div>
                    <div class="comparison-image-item" onclick="openLightbox(this.querySelector('img'))">
                        <img src="../images_perso_sec1/bombas_srgb.jpg" alt="R√©f√©rence sRGB - bombas" data-fullsize="../images_perso_sec1/bombas_srgb.jpg">
                        <div class="comparison-image-label">R√©f√©rence sRGB</div>
                    </div>
                </div>
            </div>
        
            <div class="comparison-pair">
                <div class="comparison-pair-title">cactus</div>
                <div class="comparison-images">
                    <div class="comparison-image-item" onclick="openLightbox(this.querySelector('img'))">
                        <img src="../images_perso_sec4/cactus_final.jpg" alt="Image finale - cactus" data-fullsize="../images_perso_sec4/cactus_final.jpg">
                        <div class="comparison-image-label">Votre r√©sultat</div>
                    </div>
                    <div class="comparison-image-item" onclick="openLightbox(this.querySelector('img'))">
                        <img src="../images_perso_sec1/cactus_srgb.jpg" alt="R√©f√©rence sRGB - cactus" data-fullsize="../images_perso_sec1/cactus_srgb.jpg">
                        <div class="comparison-image-label">R√©f√©rence sRGB</div>
                    </div>
                </div>
            </div>
        
            <div class="comparison-pair">
                <div class="comparison-pair-title">llanta</div>
                <div class="comparison-images">
                    <div class="comparison-image-item" onclick="openLightbox(this.querySelector('img'))">
                        <img src="../images_perso_sec4/llanta_final.jpg" alt="Image finale - llanta" data-fullsize="../images_perso_sec4/llanta_final.jpg">
                        <div class="comparison-image-label">Votre r√©sultat</div>
                    </div>
                    <div class="comparison-image-item" onclick="openLightbox(this.querySelector('img'))">
                        <img src="../images_perso_sec1/llanta_srgb.jpg" alt="R√©f√©rence sRGB - llanta" data-fullsize="../images_perso_sec1/llanta_srgb.jpg">
                        <div class="comparison-image-label">R√©f√©rence sRGB</div>
                    </div>
                </div>
            </div>
        
        </div>
    
        </div>
    
        <div class="image-section">
            <h2><span class="icon">üìù</span> Conclusion</h2>
            <h3>Conclusion</h3>
<div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ffd54f;"><p style="color: #a0a0a0; font-style: italic;">

Chaque section m‚Äôa permis de mieux comprendre les compromis fondamentaux de l‚Äôimagerie num√©rique : interpolation couleur lors du d√©matri√ßage, 
estimation de la couleur r√©elle via la balance des blancs, compression de la plage dynamique par le mappage tonal, et enfin adaptation aux contraintes d‚Äôaffichage.

Les principaux d√©fis ont √©t√© l‚Äôinterpr√©tation correcte des espaces colorim√©triques et l‚Äôencha√Ænement rigoureux des transformations. 
Ce projet m‚Äôa permis de mieux appr√©cier les choix effectu√©s par les logiciels de d√©veloppement RAW professionnels et d‚Äôidentifier des pistes d‚Äôam√©lioration,
notamment l‚Äôint√©gration d‚Äôalgorithmes HDR ou de mappage tonal local pour pr√©server davantage de d√©tails.

</p></div>
        </div>
    
        
        <footer>
            <p>GIF 4105/7105 &mdash; TP1 | Formation d'une image</p>
        </footer>
    </div>
    
    <script>
        function openLightbox(img) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const fullSizeSrc = img.getAttribute('data-fullsize') || img.src;
            lightboxImg.src = fullSizeSrc;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeLightbox(event) {
            const lightbox = document.getElementById('lightbox');
            // Only close if clicking on the background or close button
            if (event.target === lightbox || event.target.classList.contains('lightbox-close')) {
                lightbox.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }
        
        // Close lightbox on Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const lightbox = document.getElementById('lightbox');
                lightbox.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });
    </script>
</body>
</html>
